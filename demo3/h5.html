<!DOCTYPE html>
<html>

<head>
    <style>
        #video {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
        }

        #sky {
            position: fixed;
        }

        .box {
            position: fixed;
        }
    </style>
    <script src="js/aframe.min.js"></script>
</head>

<body>
    <video id="video" autoplay></video>
    <a-scene vr-mode-ui="enabled: false">

        <a-box class="box" position="5 0 5"></a-box>
        <a-camera id="camera"></a-camera>
    </a-scene>
    <a-sky transparent="True" id="sky"></a-sky>
    </a-scene>
    <script>
        var front = false;

        var constraints = { video: { facingMode: (front ? "user" : "environment"), width: 1280, height: 720 } };
        navigator.mediaDevices.getUserMedia(constraints)
            .then(function (mediaStream) {
                var video = document.querySelector('video');
                video.srcObject = mediaStream;
                video.onloadedmetadata = function (e) {
                    video.play();
                };
            })
            .catch(function (err) { console.log(err.name + ": " + err.message); });
            var box = document.querySelector( 'a-box' );
            box.addEventListener('touchend', function (evt) { box.setAttribute( 'scale',
                {
                    x: 4,
                    y: 1,
                    z: 6
                } );
            } );
    </script>
</body>

</html>
